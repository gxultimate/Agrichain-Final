{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\alqui\\\\Desktop\\\\Agrichain-ReactApp\\\\react-mobx-antd-react-router-boilerplate-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\alqui\\\\Desktop\\\\Agrichain-ReactApp\\\\react-mobx-antd-react-router-boilerplate-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\alqui\\\\Desktop\\\\Agrichain-ReactApp\\\\react-mobx-antd-react-router-boilerplate-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\alqui\\\\Desktop\\\\Agrichain-ReactApp\\\\react-mobx-antd-react-router-boilerplate-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n\n/* eslint no-param-reassign: [\"error\"] */\nimport Joi from \"joi\";\nimport { toJS, isObservableArray, isObservableObject, isBoxedObservable, action, decorate } from \"mobx\";\n\nvar Model =\n/*#__PURE__*/\nfunction () {\n  function Model(props) {\n    var _this = this;\n\n    _classCallCheck(this, Model);\n\n    this.validate = function () {\n      return Joi.validate(_this, _this.constructor.schema, {\n        skipFunctions: true,\n        abortEarly: false,\n        allowUnknown: false\n      });\n    };\n\n    this.setProperty = function (property, value) {\n      _this.handleProperties(property, value);\n    };\n\n    this.handleProperties = function (property, value) {\n      var deepProperty = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      if (typeof property !== \"string\") {\n        throw new Error(\"accepts property of type string\");\n      }\n\n      var properties = property.split(\".\");\n      var prop = properties.shift();\n\n      if (properties.length > 0) {\n        if (deepProperty) {\n          return _this.handleProperties(properties.join(\".\"), value, deepProperty[prop]);\n        }\n\n        return _this.handleProperties(properties.join(\".\"), value, _this[prop]);\n      }\n\n      if (deepProperty) {\n        deepProperty[prop] = value;\n        return true;\n      }\n\n      _this[prop] = value;\n      return true;\n    };\n\n    Object.assign(this, props);\n  }\n\n  _createClass(Model, [{\n    key: \"toJSproperties\",\n    // get toJS of each property that is an observable\n    get: function get() {\n      var _this2 = this;\n\n      var propertiesClone = {};\n      Object.keys(this).forEach(function (prop) {\n        var value = _this2[prop];\n\n        if (isObservableArray(value) || isObservableObject(value) || isBoxedObservable(value)) {\n          propertiesClone = _objectSpread({}, propertiesClone, _defineProperty({}, prop, toJS(value)));\n        }\n      });\n      return _objectSpread({}, this, propertiesClone);\n    }\n  }, {\n    key: \"errors\",\n    get: function get() {\n      var _this$validate = this.validate(),\n          error = _this$validate.error;\n\n      if (error) {\n        var details = error.details;\n        return details;\n      }\n\n      return [];\n    }\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      var _this$validate2 = this.validate(),\n          error = _this$validate2.error;\n\n      return error === null;\n    }\n  }], [{\n    key: \"schema\",\n    get: function get() {\n      return {};\n    }\n  }]);\n\n  return Model;\n}();\n\ndecorate(Model, {\n  setProperty: action\n});\nexport default Model;","map":{"version":3,"sources":["C:\\Users\\alqui\\Desktop\\Agrichain-ReactApp\\react-mobx-antd-react-router-boilerplate-master\\src\\models\\Model.js"],"names":["Joi","toJS","isObservableArray","isObservableObject","isBoxedObservable","action","decorate","Model","props","validate","constructor","schema","skipFunctions","abortEarly","allowUnknown","setProperty","property","value","handleProperties","deepProperty","undefined","Error","properties","split","prop","shift","length","join","Object","assign","propertiesClone","keys","forEach","error","details"],"mappings":"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","sourcesContent":["/* eslint no-param-reassign: [\"error\"] */\r\n\r\nimport Joi from \"joi\";\r\nimport {\r\n  toJS,\r\n  isObservableArray,\r\n  isObservableObject,\r\n  isBoxedObservable,\r\n  action,\r\n  decorate\r\n} from \"mobx\";\r\n\r\nclass Model {\r\n  constructor(props) {\r\n    Object.assign(this, props);\r\n  }\r\n\r\n  static get schema() {\r\n    return {};\r\n  }\r\n\r\n  validate = () =>\r\n    Joi.validate(this, this.constructor.schema, {\r\n      skipFunctions: true,\r\n      abortEarly: false,\r\n      allowUnknown: false\r\n    });\r\n\r\n  setProperty = (property, value) => {\r\n    this.handleProperties(property, value);\r\n  };\r\n\r\n  // get toJS of each property that is an observable\r\n  get toJSproperties() {\r\n    let propertiesClone = {};\r\n\r\n    Object.keys(this).forEach(prop => {\r\n      const value = this[prop];\r\n      if (\r\n        isObservableArray(value) ||\r\n        isObservableObject(value) ||\r\n        isBoxedObservable(value)\r\n      ) {\r\n        propertiesClone = { ...propertiesClone, [prop]: toJS(value) };\r\n      }\r\n    });\r\n\r\n    return { ...this, ...propertiesClone };\r\n  }\r\n\r\n  get errors() {\r\n    const { error } = this.validate();\r\n\r\n    if (error) {\r\n      const { details } = error;\r\n      return details;\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  get isValid() {\r\n    const { error } = this.validate();\r\n    return error === null;\r\n  }\r\n\r\n  handleProperties = (property, value, deepProperty = undefined) => {\r\n    if (typeof property !== \"string\") {\r\n      throw new Error(\"accepts property of type string\");\r\n    }\r\n\r\n    const properties = property.split(\".\");\r\n    const prop = properties.shift();\r\n\r\n    if (properties.length > 0) {\r\n      if (deepProperty) {\r\n        return this.handleProperties(\r\n          properties.join(\".\"),\r\n          value,\r\n          deepProperty[prop]\r\n        );\r\n      }\r\n      return this.handleProperties(properties.join(\".\"), value, this[prop]);\r\n    }\r\n    if (deepProperty) {\r\n      deepProperty[prop] = value;\r\n      return true;\r\n    }\r\n    this[prop] = value;\r\n    return true;\r\n  };\r\n}\r\n\r\ndecorate(Model, {\r\n  setProperty: action\r\n});\r\n\r\nexport default Model;\r\n"]},"metadata":{},"sourceType":"module"}